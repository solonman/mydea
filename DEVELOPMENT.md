# Mydea - AI åˆ›æ„åŠ©æ‰‹å¼€å‘æ–‡æ¡£

> ä½ çš„ä¸“å± AI å¹¿å‘Šåˆ›æ„ä¼™ä¼´

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æ ¸å¿ƒæ¨¡å—](#æ ¸å¿ƒæ¨¡å—)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [API æ–‡æ¡£](#api-æ–‡æ¡£)
- [çŠ¶æ€ç®¡ç†](#çŠ¶æ€ç®¡ç†)
- [æ ·å¼è§„èŒƒ](#æ ·å¼è§„èŒƒ)
- [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)
- [éƒ¨ç½²è¯´æ˜](#éƒ¨ç½²è¯´æ˜)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## é¡¹ç›®æ¦‚è¿°

### åŠŸèƒ½ç‰¹æ€§

Mydea æ˜¯ä¸€ä¸ªåŸºäº Google Gemini AI çš„æ™ºèƒ½å¹¿å‘Šåˆ›æ„ç”Ÿæˆå¹³å°ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

- ğŸ¯ **æ™ºèƒ½éœ€æ±‚åˆ†æ**ï¼šAI è‡ªåŠ¨åˆ†æç”¨æˆ·çš„åˆ›æ„éœ€æ±‚å¹¶æå‡ºé’ˆå¯¹æ€§é—®é¢˜
- ğŸŒ **å…¨çƒçµæ„Ÿæœç´¢**ï¼šé€šè¿‡ Google Search è·å–æœ€æ–°çš„åˆ›æ„æ¡ˆä¾‹å‚è€ƒ
- ğŸ’¡ **å¤šæ–¹æ¡ˆç”Ÿæˆ**ï¼šä¸€æ¬¡æ€§ç”Ÿæˆ 3 ä¸ªä¸åŒé£æ ¼çš„åˆ›æ„æ–¹æ¡ˆ
- ğŸ”„ **è¿­ä»£ä¼˜åŒ–**ï¼šæ”¯æŒæ— é™æ¬¡æ–¹æ¡ˆä¼˜åŒ–å’Œç‰ˆæœ¬ç®¡ç†
- ğŸ“‹ **é¡¹ç›®ç®¡ç†**ï¼šå¤šé¡¹ç›®ç»„ç»‡ï¼Œå†å²è®°å½•è¿½æº¯
- ğŸš€ **æ‰§è¡Œè®¡åˆ’**ï¼šè‡ªåŠ¨ç”Ÿæˆè¯¦ç»†çš„è½åœ°æ‰§è¡Œæ–¹æ¡ˆ

### æ”¯æŒçš„åˆ›æ„ç±»å‹

- Sloganï¼ˆå“ç‰Œå£å·ï¼‰
- ç¤¾äº¤åª’ä½“æ–‡æ¡ˆ
- å¹³é¢è®¾è®¡
- è§†é¢‘åˆ›æ„
- å…¬å…³æ´»åŠ¨
- å“ç‰Œå‘½å

---

## æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

#### å‰ç«¯æ¡†æ¶
- **React 19.2.0** - UI æ¡†æ¶
- **TypeScript 5.8.2** - ç±»å‹å®‰å…¨
- **Vite 6.2.0** - æ„å»ºå·¥å…·

#### AI æœåŠ¡
- **@google/genai 1.27.0** - Google Gemini API

#### æ ·å¼æ–¹æ¡ˆ
- **Tailwind CSS** (CDN) - åŸå­åŒ– CSS

#### æ•°æ®å­˜å‚¨
- **localStorage** - å®¢æˆ·ç«¯å­˜å‚¨ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚ (UI)                       â”‚
â”‚  Components: LoginScreen, HomeScreen, ResultsView...   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  çŠ¶æ€ç®¡ç†å±‚ (State)                      â”‚
â”‚        App.tsx - Stage based State Machine              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æœåŠ¡å±‚ (Services)                       â”‚
â”‚  â”œâ”€ geminiService: AI è°ƒç”¨ä¸æ•°æ®å¤„ç†                    â”‚
â”‚  â””â”€ databaseService: æœ¬åœ°æ•°æ®æŒä¹…åŒ–                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  å¤–éƒ¨æœåŠ¡ (External)                     â”‚
â”‚  â”œâ”€ Google Gemini API (2.5-flash, 2.5-pro)             â”‚
â”‚  â””â”€ Google Search (Grounding)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 18.0.0
- **npm** >= 9.0.0
- **Gemini API Key** (éœ€è¦ Google AI Studio è´¦å·)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
cd /path/to/mydea
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
GEMINI_API_KEY=your_gemini_api_key_here
```

> è·å– API Key: https://ai.google.dev/

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

è®¿é—® http://localhost:3000

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»º
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

---

## é¡¹ç›®ç»“æ„

```
mydea/
â”œâ”€â”€ components/                 # React ç»„ä»¶
â”‚   â”œâ”€â”€ BriefRefinement.tsx    # éœ€æ±‚ç²¾ç‚¼ç»„ä»¶
â”‚   â”œâ”€â”€ CreativeBriefInput.tsx # åˆ›æ„éœ€æ±‚è¾“å…¥
â”‚   â”œâ”€â”€ GeneratingView.tsx     # ç”Ÿæˆè¿‡ç¨‹å±•ç¤º
â”‚   â”œâ”€â”€ Header.tsx             # é¡µé¢å¤´éƒ¨
â”‚   â”œâ”€â”€ HomeScreen.tsx         # ä¸»é¡µ
â”‚   â”œâ”€â”€ LoadingSpinner.tsx     # åŠ è½½åŠ¨ç”»
â”‚   â”œâ”€â”€ LoginScreen.tsx        # ç™»å½•é¡µ
â”‚   â”œâ”€â”€ ProjectDashboard.tsx   # é¡¹ç›®ä»ªè¡¨æ¿
â”‚   â”œâ”€â”€ ProjectDetails.tsx     # é¡¹ç›®è¯¦æƒ…
â”‚   â””â”€â”€ ResultsView.tsx        # ç»“æœå±•ç¤º
â”‚
â”œâ”€â”€ services/                   # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ databaseService.ts     # æ•°æ®å­˜å‚¨æœåŠ¡
â”‚   â””â”€â”€ geminiService.ts       # AI æœåŠ¡è°ƒç”¨
â”‚
â”œâ”€â”€ App.tsx                     # åº”ç”¨ä¸»å…¥å£
â”œâ”€â”€ types.ts                    # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ index.tsx                   # æ¸²æŸ“å…¥å£
â”œâ”€â”€ index.html                  # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.ts             # Vite é…ç½®
â”œâ”€â”€ tsconfig.json              # TypeScript é…ç½®
â”œâ”€â”€ package.json               # é¡¹ç›®ä¾èµ–
â””â”€â”€ .env.local                 # ç¯å¢ƒå˜é‡ï¼ˆéœ€åˆ›å»ºï¼‰
```

---

## æ ¸å¿ƒæ¨¡å—

### 1. çŠ¶æ€ç®¡ç† (App.tsx)

åº”ç”¨é‡‡ç”¨åŸºäº Stage çš„çŠ¶æ€æœºæ¨¡å¼ï¼š

```typescript
enum Stage {
  LOGIN,              // ç™»å½•é¡µ
  HOME,               // ä¸»é¡µ
  PROJECT_DASHBOARD,  // é¡¹ç›®ç®¡ç†
  PROJECT_DETAILS,    // é¡¹ç›®è¯¦æƒ…
  BRIEF_INPUT,        // éœ€æ±‚è¾“å…¥
  BRIEF_REFINEMENT,   // éœ€æ±‚ç²¾ç‚¼
  GENERATING,         // ç”Ÿæˆä¸­
  RESULTS,            // ç»“æœå±•ç¤º
}
```

**æ ¸å¿ƒçŠ¶æ€**ï¼š
- `currentUser`: å½“å‰ç™»å½•ç”¨æˆ·
- `activeProjectId`: æ´»åŠ¨é¡¹ç›® ID
- `activeBriefId`: æ´»åŠ¨åˆ›æ„ä»»åŠ¡ ID
- `currentRun`: å½“å‰ç”Ÿæˆä»»åŠ¡çš„å®Œæ•´æ•°æ®
- `refinementData`: AI åˆ†æçš„ç²¾ç‚¼æ•°æ®
- `generatingStatus`: ç”Ÿæˆè¿›åº¦çŠ¶æ€

### 2. AI æœåŠ¡ (geminiService.ts)

#### æ ¸å¿ƒå‡½æ•°

##### `refineBrief(briefText, creativeType)`
åˆ†æç”¨æˆ·éœ€æ±‚å¹¶æå‡ºæ¾„æ¸…é—®é¢˜

**è¾“å…¥**ï¼š
- `briefText`: ç”¨æˆ·çš„åˆå§‹éœ€æ±‚æè¿°
- `creativeType`: åˆ›æ„ç±»å‹

**è¾“å‡º**ï¼š
```typescript
{
  summary: string;      // AI å¯¹éœ€æ±‚çš„ç†è§£
  questions: string[];  // æ¾„æ¸…é—®é¢˜åˆ—è¡¨
}
```

**ä½¿ç”¨æ¨¡å‹**: `gemini-2.5-flash`

##### `generateCreativePackage(refinedBrief, projectContext, onStatusUpdate)`
ç”Ÿæˆå®Œæ•´çš„åˆ›æ„åŒ…ï¼ˆçµæ„Ÿ + æ–¹æ¡ˆï¼‰

**æµç¨‹**ï¼š
1. è°ƒç”¨ `getInspirations()` - æœç´¢å…¨çƒæ¡ˆä¾‹
2. è°ƒç”¨ `generateProposals()` - ç”Ÿæˆ 3 ä¸ªåˆ›æ„æ–¹æ¡ˆ
3. é€šè¿‡å›è°ƒæ›´æ–°è¿›åº¦çŠ¶æ€

**ä½¿ç”¨æ¨¡å‹**: 
- çµæ„Ÿæœç´¢: `gemini-2.5-flash` + Google Search
- æ–¹æ¡ˆç”Ÿæˆ: `gemini-2.5-pro`

##### `optimizeProposal(originalProposal, feedback, contextBrief)`
æ ¹æ®åé¦ˆä¼˜åŒ–åˆ›æ„æ–¹æ¡ˆ

**è¾“å…¥**ï¼š
- `originalProposal`: åŸæ–¹æ¡ˆå¯¹è±¡
- `feedback`: ç”¨æˆ·åé¦ˆ
- `contextBrief`: åŸå§‹éœ€æ±‚ä¸Šä¸‹æ–‡

**è¾“å‡º**: ä¼˜åŒ–åçš„æ–°ç‰ˆæœ¬æ–¹æ¡ˆ

**ä½¿ç”¨æ¨¡å‹**: `gemini-2.5-pro`

##### `generateExecutionPlan(finalProposal, creativeType, contextBrief)`
ç”Ÿæˆæ‰§è¡Œè½åœ°æ–¹æ¡ˆ

**æ ¹æ®åˆ›æ„ç±»å‹ç”Ÿæˆä¸åŒå†…å®¹**ï¼š
- å…¬å…³æ´»åŠ¨ â†’ æ´»åŠ¨æ‰§è¡Œè®¡åˆ’ï¼ˆæ—¶é—´çº¿ã€èµ„æºã€é£é™©ï¼‰
- è§†é¢‘åˆ›æ„ â†’ å®Œæ•´è§†é¢‘è„šæœ¬ï¼ˆåœºæ™¯ã€å¯¹ç™½ã€é•œå¤´ï¼‰
- ç¤¾äº¤åª’ä½“æ–‡æ¡ˆ â†’ ä¸€å‘¨å†…å®¹æ—¥å†ï¼ˆ3å¹³å°ï¼‰
- å…¶ä»– â†’ é€šç”¨æ‰§è¡Œè®¡åˆ’

**ä½¿ç”¨æ¨¡å‹**: `gemini-2.5-pro`

### 3. æ•°æ®æœåŠ¡ (databaseService.ts)

#### æ•°æ®æ¨¡å‹

```typescript
interface User {
  username: string;
  projects: Project[];
}

interface Project {
  id: string;
  name: string;
  briefs: BriefHistoryItem[];
}

interface BriefHistoryItem {
  id: string;
  createdAt: string;
  initialBrief: Brief;
  refinedBriefText: string;
  inspirations: InspirationCase[];
  proposals: CreativeProposal[];
}

interface CreativeProposal {
  id: string;
  conceptTitle: string;
  coreIdea: string;
  detailedDescription: string;
  example: string;
  whyItWorks: string;
  version: number;
  history?: Omit<CreativeProposal, 'history' | 'isFinalized' | 'executionDetails'>[];
  isFinalized: boolean;
  executionDetails: ExecutionDetails | null;
}
```

#### æ ¸å¿ƒ API

```typescript
// ç”¨æˆ·ç®¡ç†
getUser(username: string): User | null
createUser(username: string): User

// ä¼šè¯ç®¡ç†
setSessionUser(user: User): void
getSessionUser(): User | null
clearSession(): void

// é¡¹ç›®ç®¡ç†
addProject(username: string, projectName: string): { updatedUser: User, newProject: Project }

// åˆ›æ„ä»»åŠ¡ç®¡ç†
addOrUpdateBrief(username: string, projectId: string, brief: BriefHistoryItem): User
deleteBrief(username: string, projectId: string, briefId: string): User
```

---

## å¼€å‘æŒ‡å—

### ç»„ä»¶å¼€å‘è§„èŒƒ

#### 1. ç»„ä»¶ç»“æ„æ¨¡æ¿

```typescript
import React, { useState } from 'react';
import type { YourType } from '../types';

interface YourComponentProps {
  // Props å®šä¹‰
  data: YourType;
  onAction: (param: string) => void;
}

const YourComponent: React.FC<YourComponentProps> = ({ data, onAction }) => {
  // çŠ¶æ€ç®¡ç†
  const [localState, setLocalState] = useState('');

  // äº‹ä»¶å¤„ç†
  const handleEvent = () => {
    // é€»è¾‘å¤„ç†
    onAction(localState);
  };

  // æ¸²æŸ“
  return (
    <div className="container-styles">
      {/* JSX */}
    </div>
  );
};

export default YourComponent;
```

#### 2. ç±»å‹å®šä¹‰è§„èŒƒ

æ‰€æœ‰ç±»å‹å®šä¹‰ç»Ÿä¸€åœ¨ `types.ts` ä¸­ç»´æŠ¤ï¼š

```typescript
// ä½¿ç”¨ interface å®šä¹‰å¯¹è±¡ç±»å‹
export interface NewType {
  id: string;
  name: string;
  optional?: number;
}

// ä½¿ç”¨ type å®šä¹‰è”åˆç±»å‹æˆ–åˆ«å
export type Status = "pending" | "processing" | "completed";
```

#### 3. å¼‚æ­¥æ“ä½œè§„èŒƒ

```typescript
const handleAsyncAction = async () => {
  setIsLoading(true);
  setError(null);
  
  try {
    const result = await someAsyncFunction();
    // å¤„ç†ç»“æœ
  } catch (error) {
    console.error('Error:', error);
    setError('ç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯');
  } finally {
    setIsLoading(false);
  }
};
```

### æ·»åŠ æ–°çš„åˆ›æ„ç±»å‹

1. **æ›´æ–°ç±»å‹å®šä¹‰** (`types.ts`)
```typescript
export type CreativeType = 
  | "Slogan" 
  | "ç¤¾äº¤åª’ä½“æ–‡æ¡ˆ" 
  | "å¹³é¢è®¾è®¡" 
  | "è§†é¢‘åˆ›æ„" 
  | "å…¬å…³æ´»åŠ¨" 
  | "å“ç‰Œå‘½å"
  | "æ–°ç±»å‹"; // æ·»åŠ æ–°ç±»å‹
```

2. **æ›´æ–°ç»„ä»¶** (`CreativeBriefInput.tsx`)
```typescript
const CREATIVE_TYPES: CreativeType[] = [
  "Slogan", 
  "ç¤¾äº¤åª’ä½“æ–‡æ¡ˆ", 
  "å¹³é¢è®¾è®¡", 
  "è§†é¢‘åˆ›æ„", 
  "å…¬å…³æ´»åŠ¨", 
  "å“ç‰Œå‘½å",
  "æ–°ç±»å‹" // æ·»åŠ åˆ°åˆ—è¡¨
];
```

3. **æ›´æ–° AI æç¤ºè¯** (`geminiService.ts`)
```typescript
// åœ¨ refineBrief å‡½æ•°ä¸­æ·»åŠ é’ˆå¯¹æ–°ç±»å‹çš„é—®é¢˜é€»è¾‘
// åœ¨ generateExecutionPlan å‡½æ•°ä¸­æ·»åŠ æ–°ç±»å‹çš„æ‰§è¡Œè®¡åˆ’æ¨¡æ¿
switch (creativeType) {
  case 'æ–°ç±»å‹':
    action = 'é’ˆå¯¹æ–°ç±»å‹çš„æ‰§è¡Œè®¡åˆ’æè¿°';
    break;
  // ...
}
```

### è‡ªå®šä¹‰ Hook ç¤ºä¾‹

```typescript
// hooks/useLocalStorage.ts
import { useState, useEffect } from 'react';

export function useLocalStorage<T>(key: string, initialValue: T) {
  const [value, setValue] = useState<T>(() => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch {
      return initialValue;
    }
  });

  useEffect(() => {
    try {
      window.localStorage.setItem(key, JSON.stringify(value));
    } catch (error) {
      console.error('Error saving to localStorage:', error);
    }
  }, [key, value]);

  return [value, setValue] as const;
}
```

---

## API æ–‡æ¡£

### Gemini API é…ç½®

#### æ¨¡å‹é€‰æ‹©

- **gemini-2.5-flash**: å¿«é€Ÿå“åº”ï¼Œç”¨äºéœ€æ±‚åˆ†æã€çµæ„Ÿæœç´¢
- **gemini-2.5-pro**: é«˜è´¨é‡è¾“å‡ºï¼Œç”¨äºåˆ›æ„æ–¹æ¡ˆç”Ÿæˆã€ä¼˜åŒ–

#### ç»“æ„åŒ–è¾“å‡ºé…ç½®

```typescript
const response = await ai.models.generateContent({
  model: 'gemini-2.5-pro',
  contents: prompt,
  config: {
    responseMimeType: "application/json",
    responseSchema: {
      type: Type.OBJECT,
      properties: {
        field1: { type: Type.STRING },
        field2: { type: Type.ARRAY, items: { type: Type.STRING } }
      },
      required: ["field1", "field2"]
    }
  }
});
```

#### Google Search é›†æˆ

```typescript
const response = await ai.models.generateContent({
  model: 'gemini-2.5-flash',
  contents: prompt,
  config: {
    tools: [{ googleSearch: {} }] // å¯ç”¨æœç´¢
  }
});

// è·å–æ¥æºé“¾æ¥
const sourceUrl = response.candidates?.[0]?.groundingMetadata?.groundingChunks?.[0]?.web?.uri;
```

---

## çŠ¶æ€ç®¡ç†

### åº”ç”¨æµç¨‹å›¾

```
ç™»å½• (LOGIN)
    â†“
ä¸»é¡µ (HOME) â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“                          â”‚
éœ€æ±‚ç²¾ç‚¼ (BRIEF_REFINEMENT)    â”‚
    â†“                          â”‚
ç”Ÿæˆä¸­ (GENERATING)             â”‚
    â†“                          â”‚
ç»“æœå±•ç¤º (RESULTS) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€ ä¼˜åŒ–æ–¹æ¡ˆ (åŸåœ°æ›´æ–°)
    â”œâ”€ å®šç¨¿æ‰§è¡Œ (åŸåœ°æ›´æ–°)
    â””â”€ å®Œæˆä¿å­˜ â†’ è¿”å›ä¸»é¡µ
```

### å…³é”®çŠ¶æ€è½¬æ¢

```typescript
// æäº¤åˆ›æ„éœ€æ±‚
handleBriefSubmit() {
  setStage(Stage.BRIEF_REFINEMENT);
  // è°ƒç”¨ AI åˆ†æ
}

// æäº¤ç²¾ç‚¼ä¿¡æ¯
handleRefinementSubmit() {
  setStage(Stage.GENERATING);
  // ç”Ÿæˆåˆ›æ„åŒ…
  // å®Œæˆå â†’ setStage(Stage.RESULTS)
}

// ä¼˜åŒ–æ–¹æ¡ˆ (ä¸æ”¹å˜ Stage)
handleOptimizeProposal() {
  // æ›´æ–° currentRun.proposals
}

// å®Œæˆå¹¶ä¿å­˜
handleFinish() {
  // ä¿å­˜åˆ°æ•°æ®åº“
  setStage(Stage.HOME);
  // é‡ç½®æ‰€æœ‰ä¸´æ—¶çŠ¶æ€
}
```

---

## æ ·å¼è§„èŒƒ

### Tailwind CSS ä½¿ç”¨

é¡¹ç›®é€šè¿‡ CDN å¼•å…¥ Tailwind CSSï¼š

```html
<script src="https://cdn.tailwindcss.com"></script>
```

### è®¾è®¡ç³»ç»Ÿ

#### é¢œè‰²æ–¹æ¡ˆ

```css
/* ä¸»è‰²è°ƒ */
èƒŒæ™¯: bg-gray-900, bg-gray-800
æ–‡å­—: text-white, text-gray-200, text-gray-300, text-gray-400
è¾¹æ¡†: border-gray-700, border-gray-600

/* å“ç‰Œè‰² */
ä¸»è¦: bg-purple-500, bg-purple-600 (CTA æŒ‰é’®)
æ¬¡è¦: bg-pink-500 (æ¸å˜æ•ˆæœ)
å¼ºè°ƒ: bg-blue-600 (ä¿¡æ¯æŒ‰é’®)
æˆåŠŸ: bg-green-600 (å®šç¨¿çŠ¶æ€)
é”™è¯¯: bg-red-600 (é”™è¯¯æç¤º)
```

#### å¸¸ç”¨ç»„ä»¶æ ·å¼

**å¡ç‰‡**ï¼š
```tsx
className="bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-700 p-8"
```

**ä¸»è¦æŒ‰é’®**ï¼š
```tsx
className="px-12 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300"
```

**è¾“å…¥æ¡†**ï¼š
```tsx
className="w-full bg-gray-900 border border-gray-600 rounded-lg p-4 text-gray-200 focus:ring-2 focus:ring-purple-500"
```

### åŠ¨ç”»æ•ˆæœ

å®šä¹‰åœ¨å…¨å±€ CSS ä¸­ï¼ˆé€šè¿‡ Tailwindï¼‰ï¼š

```css
.animate-fade-in {
  animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
```

---

## æµ‹è¯•æŒ‡å—

### å•å…ƒæµ‹è¯•ï¼ˆæ¨èæ·»åŠ ï¼‰

```bash
# å®‰è£…æµ‹è¯•ä¾èµ–
npm install -D vitest @testing-library/react @testing-library/jest-dom
```

**æµ‹è¯•ç¤ºä¾‹**ï¼š

```typescript
// services/__tests__/databaseService.test.ts
import { describe, it, expect, beforeEach } from 'vitest';
import * as db from '../databaseService';

describe('databaseService', () => {
  beforeEach(() => {
    localStorage.clear();
  });

  it('should create a new user', () => {
    const user = db.createUser('testuser');
    expect(user.username).toBe('testuser');
    expect(user.projects).toEqual([]);
  });

  it('should add a project to user', () => {
    db.createUser('testuser');
    const { newProject } = db.addProject('testuser', 'Test Project');
    expect(newProject.name).toBe('Test Project');
  });
});
```

### æ‰‹åŠ¨æµ‹è¯•æ¸…å•

#### ç™»å½•æµç¨‹
- [ ] æ–°ç”¨æˆ·æ³¨å†Œ
- [ ] å·²æœ‰ç”¨æˆ·ç™»å½•
- [ ] ä¼šè¯æŒä¹…åŒ–ï¼ˆåˆ·æ–°é¡µé¢ä¿æŒç™»å½•ï¼‰
- [ ] ç™»å‡ºåŠŸèƒ½

#### åˆ›æ„ç”Ÿæˆæµç¨‹
- [ ] è¾“å…¥åˆ›æ„éœ€æ±‚
- [ ] AI åˆ†æå¹¶æé—®
- [ ] æäº¤è¡¥å……ä¿¡æ¯
- [ ] ç”Ÿæˆçµæ„Ÿæ¡ˆä¾‹ï¼ˆå«æ¥æºé“¾æ¥ï¼‰
- [ ] ç”Ÿæˆ 3 ä¸ªåˆ›æ„æ–¹æ¡ˆ

#### æ–¹æ¡ˆä¼˜åŒ–
- [ ] æäº¤ä¼˜åŒ–åé¦ˆ
- [ ] æŸ¥çœ‹ç‰ˆæœ¬å†å²
- [ ] ä»å†å²ç‰ˆæœ¬æ¢å¤

#### æ–¹æ¡ˆæ‰§è¡Œ
- [ ] å®šç¨¿å¹¶ç”Ÿæˆæ‰§è¡Œè®¡åˆ’
- [ ] ä¸åŒåˆ›æ„ç±»å‹ç”Ÿæˆä¸åŒæ‰§è¡Œè®¡åˆ’

#### é¡¹ç›®ç®¡ç†
- [ ] åˆ›å»ºé¡¹ç›®
- [ ] æŸ¥çœ‹é¡¹ç›®åˆ—è¡¨
- [ ] æŸ¥çœ‹é¡¹ç›®è¯¦æƒ…
- [ ] åˆ é™¤åˆ›æ„ä»»åŠ¡

---

## éƒ¨ç½²è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

ç”Ÿäº§ç¯å¢ƒéœ€è¦é…ç½®ï¼š

```env
GEMINI_API_KEY=your_production_api_key
```

### Vercel éƒ¨ç½²

1. **å®‰è£… Vercel CLI**
```bash
npm install -g vercel
```

2. **éƒ¨ç½²**
```bash
vercel
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
åœ¨ Vercel Dashboard ä¸­æ·»åŠ  `GEMINI_API_KEY`

### Netlify éƒ¨ç½²

1. **æ„å»ºè®¾ç½®**
```
Build command: npm run build
Publish directory: dist
```

2. **ç¯å¢ƒå˜é‡**
åœ¨ Netlify Dashboard è®¾ç½®ç¯å¢ƒå˜é‡

### Docker éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

```dockerfile
# Dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .

RUN npm run build

EXPOSE 3000

CMD ["npm", "run", "preview"]
```

---

## å¸¸è§é—®é¢˜

### Q1: API Key é”™è¯¯

**é—®é¢˜**: `API_KEY environment variable not set`

**è§£å†³**:
1. ç¡®è®¤ `.env.local` æ–‡ä»¶å­˜åœ¨
2. ç¡®è®¤æ–‡ä»¶ä¸­æœ‰ `GEMINI_API_KEY=your_key`
3. é‡å¯å¼€å‘æœåŠ¡å™¨

### Q2: æ•°æ®ä¸¢å¤±

**é—®é¢˜**: åˆ·æ–°é¡µé¢åæ•°æ®ä¸¢å¤±

**åŸå› **: localStorage è¢«æ¸…é™¤æˆ–æµè§ˆå™¨éšç§æ¨¡å¼

**è§£å†³**:
- æ£€æŸ¥æµè§ˆå™¨è®¾ç½®
- è€ƒè™‘å‡çº§åˆ°çœŸå®æ•°æ®åº“

### Q3: AI å“åº”æ…¢

**é—®é¢˜**: ç”Ÿæˆåˆ›æ„æ–¹æ¡ˆç­‰å¾…æ—¶é—´é•¿

**åŸå› **: 
- Gemini API ç½‘ç»œå»¶è¿Ÿ
- ä½¿ç”¨äº†è¾ƒæ…¢çš„æ¨¡å‹

**ä¼˜åŒ–**:
- æ·»åŠ è¶…æ—¶æ§åˆ¶
- æ˜¾ç¤ºæ›´è¯¦ç»†çš„è¿›åº¦ä¿¡æ¯
- è€ƒè™‘ä½¿ç”¨ streaming æ¨¡å¼

### Q4: æ ·å¼ä¸ç”Ÿæ•ˆ

**é—®é¢˜**: Tailwind CSS ç±»åä¸ç”Ÿæ•ˆ

**æ£€æŸ¥**:
1. CDN é“¾æ¥æ˜¯å¦æ­£å¸¸åŠ è½½
2. æµè§ˆå™¨ç½‘ç»œè¿æ¥
3. ç±»åæ‹¼å†™æ˜¯å¦æ­£ç¡®

### Q5: TypeScript ç±»å‹é”™è¯¯

**è§£å†³**:
```bash
# é‡æ–°ç”Ÿæˆç±»å‹å£°æ˜
npx tsc --noEmit

# é‡å¯ VS Code TypeScript æœåŠ¡
Cmd/Ctrl + Shift + P â†’ "TypeScript: Restart TS Server"
```

---

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ä»£ç åˆ†å‰²
```typescript
// ä½¿ç”¨ React.lazy å»¶è¿ŸåŠ è½½ç»„ä»¶
const ResultsView = React.lazy(() => import('./components/ResultsView'));
```

### 2. å›¾ç‰‡ä¼˜åŒ–
```typescript
// æ·»åŠ æ‡’åŠ è½½
<img loading="lazy" src={imageUrl} alt={title} />
```

### 3. é˜²æŠ–ä¼˜åŒ–
```typescript
import { useMemo } from 'react';
import debounce from 'lodash/debounce';

const debouncedSearch = useMemo(
  () => debounce((value) => search(value), 300),
  []
);
```

### 4. ç¼“å­˜ç­–ç•¥
```typescript
// ç¼“å­˜ AI å“åº”ï¼ˆæ·»åŠ åˆ° databaseServiceï¼‰
const cacheKey = `cache_${briefText}_${creativeType}`;
const cached = localStorage.getItem(cacheKey);
if (cached) {
  return JSON.parse(cached);
}
```

---

## è´¡çŒ®æŒ‡å—

### Git å·¥ä½œæµ

```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature-name

# æäº¤ä»£ç 
git add .
git commit -m "feat: add new feature"

# æ¨é€åˆ†æ”¯
git push origin feature/your-feature-name
```

### Commit è§„èŒƒ

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
refactor: é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·é“¾ç›¸å…³
```

---

## è·¯çº¿å›¾

### v1.1 è®¡åˆ’
- [ ] æ·»åŠ çœŸå®æ•°æ®åº“ï¼ˆSupabaseï¼‰
- [ ] å®ç°åç«¯ API ä»£ç†
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] æ”¯æŒå¯¼å‡º PDF

### v1.2 è®¡åˆ’
- [ ] å¤šè¯­è¨€æ”¯æŒï¼ˆi18nï¼‰
- [ ] ä¸»é¢˜åˆ‡æ¢ï¼ˆæ˜/æš—ï¼‰
- [ ] å›¢é˜Ÿåä½œåŠŸèƒ½
- [ ] ç§»åŠ¨ç«¯ä¼˜åŒ–

### v2.0 è®¡åˆ’
- [ ] AI æ¨¡å‹è‡ªå®šä¹‰
- [ ] è¡Œä¸šæ¨¡æ¿åº“
- [ ] æ•°æ®åˆ†æä»ªè¡¨æ¿
- [ ] API å¼€æ”¾å¹³å°

---

## è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€: https://ai.studio/apps/drive/1RyR4dxBnotzWHpt5iv7Nuw2qHecMW1hZ
- é—®é¢˜åé¦ˆ: åˆ›å»º GitHub Issue
- æŠ€æœ¯æ”¯æŒ: å‚è€ƒ [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

**æœ€åæ›´æ–°**: 2025-10-25  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
